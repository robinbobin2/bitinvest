<section class="crypto-active exchanges">
    <div class="wrapper">
      <div class="select-block">
      <h1 class="table-title-big">Биржи<span>{{count}}</span><a href="balant-mining-filter.html"><img src="img/mining-icon.png" alt=""></a></h1>

        <div class="filters">
          <!-- <div class="select-wrap">
            <div class="select">
              <span class="text">Пара: Все</span>
              <a href="#"><img src="img/select-drop-icon.png" alt=""></a>
            </div>
            <ul class="select-items">
              <li><a href="#">Пара: Все</a></li>
              <li><a href="#">Пара: Все</a></li>
              <li><a href="#">Пара: Все</a></li>
            </ul>
          </div> -->
          <div class="select-wrapper1" id="select-algo">
              <div class="select">
               <span class="text"><span style="padding-top: 12px;">{{language !='' ? language : 'Язык: Все'}}</span></span>
               <a href="#"><img src="/img/select-drop-icon.png" alt=""></a>
             </div>
             <ul class="select-items">
               <li (click)="language=''"> <a >Язык: Все</a></li>
               <li *ngFor="let item of exchanges" (click)="language=item?.languages"><a >{{item?.languages}}</a></li>
               <!-- <li (click)="setOrder('percentage')"><a >Фильтрация: По сумме собранных средств</a></li> -->
             </ul>
              </div>
              <div class="crypto-select-wrap">
                            <input type="text" placeholder="Поиск по названию монеты..." [(ngModel)]="filteredName" name="filteredName" value="">
                        </div>
        </div>
      </div>
      <div class="table-wrap">
        <table class="table crypto-table">
          <thead>
            <tr>
              <th width="4.4%" [class.active]="order === 'id'"
        (click)="setOrder('id')">
                <span>#</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="12.9%" [class.active]="order === 'name'"
        (click)="setOrder('name')">
                <span>Название</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="10%" [class.active]="order === 'usd'"
        (click)="setOrder('usd')">
                <span>Объем ( $ за 24 ч.)</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="10.8%" [class.active]="order === 'btc'"
        (click)="setOrder('btc')">
                <span>Объем BTC (за 24ч.)</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="7.1%" >
                <span>Кол-во пар</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="12.5%" [class.active]="order === 'languages'"
        (click)="setOrder('languages')">
                <span>Поддержка языков</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="4.7%" [class.active]="order === 'year'"
        (click)="setOrder('year')">
                <span>Год</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="17%" [class.active]="order === 'country'"
        (click)="setOrder('country')">
                <span>Страна</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
              <th width="20.6%">
                <span>Рейтинг</span>
                <img src="img/arr-top-table.png" alt="">
              </th>
            </tr>
          </thead>

          <tbody *ngIf="load == false">

            <tr *ngFor="let item of exchanges   | orderBy: order:reverse:'case-insensitive' | filterName:filteredName:'name' | filterNameActive:age:'language'; let i = index">
              <td>
                <span>{{i}}</span>
              </td>
              <td>
                <a >
                  <div class="img-wrap">
                    <img src="/images/{{item.logo}}" style="width: 100%; height: 100%;" alt="">
                  </div>
                  <span>{{item.name}}</span>
                </a>
              </td>
              <td>
                <span class="amount-bold" *ngIf="exchange_volumes[item.name] != undefined">{{exchange_volumes[item.name].usd | number:'1.0-3'}}</span>
              </td>
              <td>
                <span *ngIf="exchange_volumes[item.name] != undefined">{{exchange_volumes[item.name].btc | number:'1.0-3'}}</span>
              </td>
              <td>

                <span>{{item.count}}</span>
              </td>
              <td>
                <div class="img-wrap-small">
                  <!-- <img src="img/rus-icon.png" alt="">
                  <img src="img/usa-icon.png" alt="">
                  <img src="img/usa-icon.png" alt="">
                  <img src="img/usa-icon.png" alt="">
                  <img src="img/usa-icon.png" alt="">
                  <span class="text">+5</span> -->
                  <ng-template *ngFor="let lang of item.languages">
                    <ng-template *ngIf="lang =='EN'; else plain"><img src="img/usa-icon.png" alt=""></ng-template>
                    <ng-template #plain>{{lang}}</ng-template>
                  </ng-template>
                </div>
              </td>
              <td>
                <span class="year">{{item.year}}</span>
              </td>
              <td>
                <span class="sity">{{item.country}}</span>
              </td>
              <td>
                <div class="difference">
                  <!-- <div class="stars-wrap">
                    <img src="img/stars.png" alt="">
                    <span>135</span>
                  </div> -->
                  <p class="no-ratings">Оценок еще нет</p>
                  <div class="buttons">
                    <button class="right" [routerLink]="['/exchange', item.name]">></button>
                    <button class="plus">+</button>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div style="width: 50px; height: 50px; margin: 40px auto;">
          <img src="/img/load.gif" *ngIf="load == true" style=" width: 50px; height: 50px; text-align: center">
        </div>
      </div>
     <!--  <div class="table-wrap-mobile">
        <table class="table">
          <thead>
            <th width="43%">
              <span>Название</span>
            </th>
            <th width="43%">
              <span>Объем</span>
            </th>
            <th width="14%">
              <span>Пар</span>
            </th>
          </thead>
          <tbody>
            
          </tbody>
        </table>
        <a href="#" class="show-exchanges">Показать еще биржи</a>
      </div>
      <a href="#" class="show-more">Показать еще</a> -->
    </div>
  </section>