<div class="news-content">
    <div class="news-head">
        <h1>Аналитика<span>{{countAll}}</span><a routerLink="/analytics-filter"><img src="img/mining-icon.png" alt=""></a></h1>
        <ul class="news-tabs">
            <li [ngClass]="order=='id' ? 'active':''"><a (click)="setOrder('id')" routerLink="./" [queryParams]="{order: order, reverse: reverse}">Новое за сегодня</a></li>
            <li [ngClass]="order=='views_count' ? 'active':''"><a (click)="setOrder('views_count')" routerLink="./" [queryParams]="{order: order, reverse: reverse}">Самое популярное</a></li>
            <li [ngClass]="order=='comments_count' ? 'active':''"><a  (click)="setOrder('comments_count')" routerLink="./" [queryParams]="{order: order, reverse: reverse}">Самое обсуждаемое</a></li>
        </ul>
    </div>
    <div class="news-body">
        <div class="news-tab-content active">
            <div class="main-news">
                <div  *ngFor="let item of main_news | orderBy: order:reverse:'case-insensitive'" [ngClass]="item.workplace ? 'news trust' : 'news'">
                    <div class="img" [ngStyle]="{'background-image':'url('+item.photos[0].file+')'}">
                        <a [routerLink]="['/review/category', item.cat_id]" class="news-btn">{{item.category.name}}</a>
                        <a href="/analytics/item/{{item.id}}" class="title-link">{{item.title}}</a>
                        <div class="info">
                            <span class="date">{{item.created_at}}</span>
                            <span class="views"><i class="fa fa-eye" aria-hidden="true"></i>0</span>
                            <a  href="/analytics/item/{{item.id}}#comment-block"  class="comments"><i class="fa fa-comment" aria-hidden="true"></i>{{item.comments_count}}</a>
                        </div>
                    </div>
                    <div class="text">
                        <p>{{item.desc | striphtml | excerpt:140}} <a routerLink="/review/item/{{item.id}}">Подробнее</a></p>
                    </div>
                </div>
            </div>
            <div class="news-list">
                <div *ngFor="let item of news | orderBy: order:reverse:'case-insensitive'" [ngClass]="item.name_credits ? 'trust' : 'news'" [routerLink]="item.name_credits ? ['/analytics/item', item.id] : null">
                    <div *ngIf="item.name_credits" class="img-wrap"><img src="img/trust.png" alt=""></div>
                    <h4 *ngIf="item.name_credits">{{item.title}}</h4>
                    <p *ngIf="item.name_credits" class="name">{{item.name_credits}}</p>
                    <span *ngIf="item.name_credits">{{item.workplace}}</span>
                    <div *ngIf="!item.name_credits" class="img" [ngStyle]="{'background-image':'url('+item.photos[0].file+')' }">
                        <a [routerLink]="['/analytics/category', item.cat_id]" class="news-btn">{{item.category.name}}</a>
                        <div class="info">
                            <span class="date">{{item.created_at}}</span>
                        </div>
                    </div>
                    <div *ngIf="!item.name_credits" class="text">
                        <h3>
                            <a [routerLink]="['/analytics/item', item.id]">{{item.title}}</a>
                        </h3>
                    </div>

                    <div *ngIf="!item.name_credits" class="text2">
                        <p>{{item.desc | striphtml |excerpt:80}}</p>
                    </div>
                </div>

            </div>
            <!-- <a href="#" class="show-more">Показать еще</a> -->
        </div>

    </div>
    <!-- <a href="#" class="show-more">Показать еще</a> -->
</div>

